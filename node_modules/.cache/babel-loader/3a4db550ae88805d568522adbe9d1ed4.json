{"ast":null,"code":"import { createReducer, nanoid } from '@reduxjs/toolkit';\nimport { addPopup, removePopup, updateBlockNumber, setOpenModal } from './actions';\nvar initialState = {\n  blockNumber: {},\n  popupList: [],\n  openModal: null\n};\nexport default createReducer(initialState, function (builder) {\n  return builder.addCase(updateBlockNumber, function (state, action) {\n    var _action$payload = action.payload,\n      chainId = _action$payload.chainId,\n      blockNumber = _action$payload.blockNumber;\n    if (typeof state.blockNumber[chainId] !== 'number') {\n      state.blockNumber[chainId] = blockNumber;\n    } else {\n      state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId]);\n    }\n  }).addCase(setOpenModal, function (state, action) {\n    state.openModal = action.payload;\n  }).addCase(addPopup, function (state, _ref) {\n    var _ref$payload = _ref.payload,\n      content = _ref$payload.content,\n      key = _ref$payload.key,\n      _ref$payload$removeAf = _ref$payload.removeAfterMs,\n      removeAfterMs = _ref$payload$removeAf === void 0 ? 15000 : _ref$payload$removeAf;\n    state.popupList = (key ? state.popupList.filter(function (popup) {\n      return popup.key !== key;\n    }) : state.popupList).concat([{\n      key: key || nanoid(),\n      show: true,\n      content: content,\n      removeAfterMs: removeAfterMs\n    }]);\n  }).addCase(removePopup, function (state, _ref2) {\n    var key = _ref2.payload.key;\n    state.popupList.forEach(function (p) {\n      if (p.key === key) {\n        p.show = false;\n      }\n    });\n  });\n});","map":{"version":3,"names":["createReducer","nanoid","addPopup","removePopup","updateBlockNumber","setOpenModal","initialState","blockNumber","popupList","openModal","builder","addCase","state","action","_action$payload","payload","chainId","Math","max","_ref","_ref$payload","content","key","_ref$payload$removeAf","removeAfterMs","filter","popup","concat","show","_ref2","forEach","p"],"sources":["E:/testprojects/CoolSwap-interface/src/state/application/reducer.ts"],"sourcesContent":["import { createReducer, nanoid } from '@reduxjs/toolkit';\r\nimport { addPopup, PopupContent, removePopup, updateBlockNumber, ApplicationModal, setOpenModal } from './actions';\r\n\r\ntype PopupList = Array<{ key: string; show: boolean; content: PopupContent; removeAfterMs: number | null }>;\r\n\r\nexport interface ApplicationState {\r\n  readonly blockNumber: { readonly [chainId: number]: number };\r\n  readonly popupList: PopupList;\r\n  readonly openModal: ApplicationModal | null;\r\n}\r\n\r\nconst initialState: ApplicationState = {\r\n  blockNumber: {},\r\n  popupList: [],\r\n  openModal: null,\r\n};\r\n\r\nexport default createReducer(initialState, (builder) =>\r\n  builder\r\n    .addCase(updateBlockNumber, (state, action) => {\r\n      const { chainId, blockNumber } = action.payload;\r\n      if (typeof state.blockNumber[chainId] !== 'number') {\r\n        state.blockNumber[chainId] = blockNumber;\r\n      } else {\r\n        state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId]);\r\n      }\r\n    })\r\n    .addCase(setOpenModal, (state, action) => {\r\n      state.openModal = action.payload;\r\n    })\r\n    .addCase(addPopup, (state, { payload: { content, key, removeAfterMs = 15000 } }) => {\r\n      state.popupList = (key ? state.popupList.filter((popup) => popup.key !== key) : state.popupList).concat([\r\n        {\r\n          key: key || nanoid(),\r\n          show: true,\r\n          content,\r\n          removeAfterMs,\r\n        },\r\n      ]);\r\n    })\r\n    .addCase(removePopup, (state, { payload: { key } }) => {\r\n      state.popupList.forEach((p) => {\r\n        if (p.key === key) {\r\n          p.show = false;\r\n        }\r\n      });\r\n    })\r\n);\r\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,MAAM,QAAQ,kBAAkB;AACxD,SAASC,QAAQ,EAAgBC,WAAW,EAAEC,iBAAiB,EAAoBC,YAAY,QAAQ,WAAW;AAUlH,IAAMC,YAA8B,GAAG;EACrCC,WAAW,EAAE,CAAC,CAAC;EACfC,SAAS,EAAE,EAAE;EACbC,SAAS,EAAE;AACb,CAAC;AAED,eAAeT,aAAa,CAACM,YAAY,EAAE,UAACI,OAAO;EAAA,OACjDA,OAAO,CACJC,OAAO,CAACP,iBAAiB,EAAE,UAACQ,KAAK,EAAEC,MAAM,EAAK;IAC7C,IAAAC,eAAA,GAAiCD,MAAM,CAACE,OAAO;MAAvCC,OAAO,GAAAF,eAAA,CAAPE,OAAO;MAAET,WAAW,GAAAO,eAAA,CAAXP,WAAW;IAC5B,IAAI,OAAOK,KAAK,CAACL,WAAW,CAACS,OAAO,CAAC,KAAK,QAAQ,EAAE;MAClDJ,KAAK,CAACL,WAAW,CAACS,OAAO,CAAC,GAAGT,WAAW;IAC1C,CAAC,MAAM;MACLK,KAAK,CAACL,WAAW,CAACS,OAAO,CAAC,GAAGC,IAAI,CAACC,GAAG,CAACX,WAAW,EAAEK,KAAK,CAACL,WAAW,CAACS,OAAO,CAAC,CAAC;IAChF;EACF,CAAC,CAAC,CACDL,OAAO,CAACN,YAAY,EAAE,UAACO,KAAK,EAAEC,MAAM,EAAK;IACxCD,KAAK,CAACH,SAAS,GAAGI,MAAM,CAACE,OAAO;EAClC,CAAC,CAAC,CACDJ,OAAO,CAACT,QAAQ,EAAE,UAACU,KAAK,EAAAO,IAAA,EAA2D;IAAA,IAAAC,YAAA,GAAAD,IAAA,CAAvDJ,OAAO;MAAIM,OAAO,GAAAD,YAAA,CAAPC,OAAO;MAAEC,GAAG,GAAAF,YAAA,CAAHE,GAAG;MAAAC,qBAAA,GAAAH,YAAA,CAAEI,aAAa;MAAbA,aAAa,GAAAD,qBAAA,cAAG,KAAK,GAAAA,qBAAA;IACzEX,KAAK,CAACJ,SAAS,GAAG,CAACc,GAAG,GAAGV,KAAK,CAACJ,SAAS,CAACiB,MAAM,CAAC,UAACC,KAAK;MAAA,OAAKA,KAAK,CAACJ,GAAG,KAAKA,GAAG;IAAA,EAAC,GAAGV,KAAK,CAACJ,SAAS,EAAEmB,MAAM,CAAC,CACtG;MACEL,GAAG,EAAEA,GAAG,IAAIrB,MAAM,CAAC,CAAC;MACpB2B,IAAI,EAAE,IAAI;MACVP,OAAO,EAAPA,OAAO;MACPG,aAAa,EAAbA;IACF,CAAC,CACF,CAAC;EACJ,CAAC,CAAC,CACDb,OAAO,CAACR,WAAW,EAAE,UAACS,KAAK,EAAAiB,KAAA,EAA2B;IAAA,IAAZP,GAAG,GAAAO,KAAA,CAAdd,OAAO,CAAIO,GAAG;IAC5CV,KAAK,CAACJ,SAAS,CAACsB,OAAO,CAAC,UAACC,CAAC,EAAK;MAC7B,IAAIA,CAAC,CAACT,GAAG,KAAKA,GAAG,EAAE;QACjBS,CAAC,CAACH,IAAI,GAAG,KAAK;MAChB;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AAAA,CACN,CAAC"},"metadata":{},"sourceType":"module"}