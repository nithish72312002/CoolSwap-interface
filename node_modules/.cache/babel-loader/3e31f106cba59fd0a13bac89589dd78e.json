{"ast":null,"code":"import _slicedToArray from \"E:\\\\testprojects\\\\CoolSwap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\testprojects\\\\CoolSwap-interface\\\\src\\\\components\\\\SearchModal\\\\CurrencySearchModal.tsx\";\nimport React, { useCallback, useEffect, useState } from 'react';\nimport useLast from '../../hooks/useLast';\nimport Modal from '../Modal';\nimport { CurrencySearch } from './CurrencySearch';\nimport { ImportToken } from './ImportToken';\nimport usePrevious from 'hooks/usePrevious';\nimport Manage from './Manage';\nimport { ImportList } from './ImportList';\nexport var CurrencyModalView = /*#__PURE__*/function (CurrencyModalView) {\n  CurrencyModalView[CurrencyModalView[\"search\"] = 0] = \"search\";\n  CurrencyModalView[CurrencyModalView[\"manage\"] = 1] = \"manage\";\n  CurrencyModalView[CurrencyModalView[\"importToken\"] = 2] = \"importToken\";\n  CurrencyModalView[CurrencyModalView[\"importList\"] = 3] = \"importList\";\n  return CurrencyModalView;\n}({});\nexport default function CurrencySearchModal(_ref) {\n  var isOpen = _ref.isOpen,\n    onDismiss = _ref.onDismiss,\n    onCurrencySelect = _ref.onCurrencySelect,\n    selectedCurrency = _ref.selectedCurrency,\n    otherSelectedCurrency = _ref.otherSelectedCurrency,\n    _ref$showCommonBases = _ref.showCommonBases,\n    showCommonBases = _ref$showCommonBases === void 0 ? false : _ref$showCommonBases;\n  var _useState = useState(CurrencyModalView.manage),\n    _useState2 = _slicedToArray(_useState, 2),\n    modalView = _useState2[0],\n    setModalView = _useState2[1];\n  var lastOpen = useLast(isOpen);\n  useEffect(function () {\n    if (isOpen && !lastOpen) {\n      setModalView(CurrencyModalView.search);\n    }\n  }, [isOpen, lastOpen]);\n  var handleCurrencySelect = useCallback(function (currency) {\n    onCurrencySelect(currency);\n    onDismiss();\n  }, [onDismiss, onCurrencySelect]);\n\n  // for token import view\n  var prevView = usePrevious(modalView);\n\n  // used for import token flow\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    importToken = _useState4[0],\n    setImportToken = _useState4[1];\n\n  // used for import list\n  var _useState5 = useState(),\n    _useState6 = _slicedToArray(_useState5, 2),\n    importList = _useState6[0],\n    setImportList = _useState6[1];\n  var _useState7 = useState(),\n    _useState8 = _slicedToArray(_useState7, 2),\n    listURL = _useState8[0],\n    setListUrl = _useState8[1];\n\n  // change min height if not searching\n  var minHeight = modalView === CurrencyModalView.importToken || modalView === CurrencyModalView.importList ? 40 : 80;\n  return /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpen,\n    onDismiss: onDismiss,\n    maxHeight: 80,\n    minHeight: minHeight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, modalView === CurrencyModalView.search ? /*#__PURE__*/React.createElement(CurrencySearch, {\n    isOpen: isOpen,\n    onDismiss: onDismiss,\n    onCurrencySelect: handleCurrencySelect,\n    selectedCurrency: selectedCurrency,\n    otherSelectedCurrency: otherSelectedCurrency,\n    showCommonBases: showCommonBases,\n    showImportView: function showImportView() {\n      return setModalView(CurrencyModalView.importToken);\n    },\n    setImportToken: setImportToken,\n    showManageView: function showManageView() {\n      return setModalView(CurrencyModalView.manage);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }) : modalView === CurrencyModalView.importToken && importToken ? /*#__PURE__*/React.createElement(ImportToken, {\n    tokens: [importToken],\n    onDismiss: onDismiss,\n    onBack: function onBack() {\n      return setModalView(prevView && prevView !== CurrencyModalView.importToken ? prevView : CurrencyModalView.search);\n    },\n    handleCurrencySelect: handleCurrencySelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }) : modalView === CurrencyModalView.importList && importList && listURL ? /*#__PURE__*/React.createElement(ImportList, {\n    list: importList,\n    listURL: listURL,\n    onDismiss: onDismiss,\n    setModalView: setModalView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }) : modalView === CurrencyModalView.manage ? /*#__PURE__*/React.createElement(Manage, {\n    onDismiss: onDismiss,\n    setModalView: setModalView,\n    setImportToken: setImportToken,\n    setImportList: setImportList,\n    setListUrl: setListUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }) : '');\n}","map":{"version":3,"names":["React","useCallback","useEffect","useState","useLast","Modal","CurrencySearch","ImportToken","usePrevious","Manage","ImportList","CurrencyModalView","CurrencySearchModal","_ref","isOpen","onDismiss","onCurrencySelect","selectedCurrency","otherSelectedCurrency","_ref$showCommonBases","showCommonBases","_useState","manage","_useState2","_slicedToArray","modalView","setModalView","lastOpen","search","handleCurrencySelect","currency","prevView","_useState3","_useState4","importToken","setImportToken","_useState5","_useState6","importList","setImportList","_useState7","_useState8","listURL","setListUrl","minHeight","createElement","maxHeight","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","showImportView","showManageView","tokens","onBack","list"],"sources":["E:/testprojects/CoolSwap-interface/src/components/SearchModal/CurrencySearchModal.tsx"],"sourcesContent":["import { Currency, Token } from '@uniswap/sdk';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport useLast from '../../hooks/useLast';\r\nimport Modal from '../Modal';\r\nimport { CurrencySearch } from './CurrencySearch';\r\nimport { ImportToken } from './ImportToken';\r\nimport usePrevious from 'hooks/usePrevious';\r\nimport Manage from './Manage';\r\nimport { TokenList } from '@uniswap/token-lists';\r\nimport { ImportList } from './ImportList';\r\n\r\ninterface CurrencySearchModalProps {\r\n  isOpen: boolean;\r\n  onDismiss: () => void;\r\n  selectedCurrency?: Currency | null;\r\n  onCurrencySelect: (currency: Currency) => void;\r\n  otherSelectedCurrency?: Currency | null;\r\n  showCommonBases?: boolean;\r\n}\r\n\r\nexport enum CurrencyModalView {\r\n  search,\r\n  manage,\r\n  importToken,\r\n  importList,\r\n}\r\n\r\nexport default function CurrencySearchModal({\r\n  isOpen,\r\n  onDismiss,\r\n  onCurrencySelect,\r\n  selectedCurrency,\r\n  otherSelectedCurrency,\r\n  showCommonBases = false,\r\n}: CurrencySearchModalProps) {\r\n  const [modalView, setModalView] = useState<CurrencyModalView>(CurrencyModalView.manage);\r\n  const lastOpen = useLast(isOpen);\r\n\r\n  useEffect(() => {\r\n    if (isOpen && !lastOpen) {\r\n      setModalView(CurrencyModalView.search);\r\n    }\r\n  }, [isOpen, lastOpen]);\r\n\r\n  const handleCurrencySelect = useCallback(\r\n    (currency: Currency) => {\r\n      onCurrencySelect(currency);\r\n      onDismiss();\r\n    },\r\n    [onDismiss, onCurrencySelect]\r\n  );\r\n\r\n  // for token import view\r\n  const prevView = usePrevious(modalView);\r\n\r\n  // used for import token flow\r\n  const [importToken, setImportToken] = useState<Token | undefined>();\r\n\r\n  // used for import list\r\n  const [importList, setImportList] = useState<TokenList | undefined>();\r\n  const [listURL, setListUrl] = useState<string | undefined>();\r\n\r\n  // change min height if not searching\r\n  const minHeight = modalView === CurrencyModalView.importToken || modalView === CurrencyModalView.importList ? 40 : 80;\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onDismiss={onDismiss} maxHeight={80} minHeight={minHeight}>\r\n      {modalView === CurrencyModalView.search ? (\r\n        <CurrencySearch\r\n          isOpen={isOpen}\r\n          onDismiss={onDismiss}\r\n          onCurrencySelect={handleCurrencySelect}\r\n          selectedCurrency={selectedCurrency}\r\n          otherSelectedCurrency={otherSelectedCurrency}\r\n          showCommonBases={showCommonBases}\r\n          showImportView={() => setModalView(CurrencyModalView.importToken)}\r\n          setImportToken={setImportToken}\r\n          showManageView={() => setModalView(CurrencyModalView.manage)}\r\n        />\r\n      ) : modalView === CurrencyModalView.importToken && importToken ? (\r\n        <ImportToken\r\n          tokens={[importToken]}\r\n          onDismiss={onDismiss}\r\n          onBack={() =>\r\n            setModalView(prevView && prevView !== CurrencyModalView.importToken ? prevView : CurrencyModalView.search)\r\n          }\r\n          handleCurrencySelect={handleCurrencySelect}\r\n        />\r\n      ) : modalView === CurrencyModalView.importList && importList && listURL ? (\r\n        <ImportList list={importList} listURL={listURL} onDismiss={onDismiss} setModalView={setModalView} />\r\n      ) : modalView === CurrencyModalView.manage ? (\r\n        <Manage\r\n          onDismiss={onDismiss}\r\n          setModalView={setModalView}\r\n          setImportToken={setImportToken}\r\n          setImportList={setImportList}\r\n          setListUrl={setListUrl}\r\n        />\r\n      ) : (\r\n        ''\r\n      )}\r\n    </Modal>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}