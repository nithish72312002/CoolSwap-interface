{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"E:\\\\testprojects\\\\CoolSwap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createForOfIteratorHelper\");\nvar _slicedToArray = require(\"E:\\\\testprojects\\\\CoolSwap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\nvar _asyncToGenerator = require(\"E:\\\\testprojects\\\\CoolSwap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/asyncToGenerator\");\nvar _classCallCheck = require(\"E:\\\\testprojects\\\\CoolSwap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\nvar _createClass = require(\"E:\\\\testprojects\\\\CoolSwap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\nvar _inherits = require(\"E:\\\\testprojects\\\\CoolSwap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/inherits\");\nvar _createSuper = require(\"E:\\\\testprojects\\\\CoolSwap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createSuper\");\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == typeof h && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator.return && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(typeof e + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.JsonRpcEngine = void 0;\nvar safe_event_emitter_1 = __importDefault(require(\"@metamask/safe-event-emitter\"));\nvar eth_rpc_errors_1 = require(\"eth-rpc-errors\");\n/**\n * A JSON-RPC request and response processor.\n * Give it a stack of middleware, pass it requests, and get back responses.\n */\nvar JsonRpcEngine = /*#__PURE__*/function (_safe_event_emitter_) {\n  _inherits(JsonRpcEngine, _safe_event_emitter_);\n  var _super = _createSuper(JsonRpcEngine);\n  function JsonRpcEngine() {\n    var _this;\n    _classCallCheck(this, JsonRpcEngine);\n    _this = _super.call(this);\n    _this._middleware = [];\n    return _this;\n  }\n  /**\n   * Add a middleware function to the engine's middleware stack.\n   *\n   * @param middleware - The middleware function to add.\n   */\n  _createClass(JsonRpcEngine, [{\n    key: \"push\",\n    value: function push(middleware) {\n      this._middleware.push(middleware);\n    }\n  }, {\n    key: \"handle\",\n    value: function handle(req, cb) {\n      if (cb && typeof cb !== 'function') {\n        throw new Error('\"callback\" must be a function if provided.');\n      }\n      if (Array.isArray(req)) {\n        if (cb) {\n          return this._handleBatch(req, cb);\n        }\n        return this._handleBatch(req);\n      }\n      if (cb) {\n        return this._handle(req, cb);\n      }\n      return this._promiseHandle(req);\n    }\n    /**\n     * Returns this engine as a middleware function that can be pushed to other\n     * engines.\n     *\n     * @returns This engine as a middleware function.\n     */\n  }, {\n    key: \"asMiddleware\",\n    value: function asMiddleware() {\n      var _this2 = this;\n      return /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next, end) {\n          var _yield$JsonRpcEngine$, _yield$JsonRpcEngine$2, middlewareError, isComplete, returnHandlers;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return JsonRpcEngine._runAllMiddleware(req, res, _this2._middleware);\n              case 3:\n                _yield$JsonRpcEngine$ = _context2.sent;\n                _yield$JsonRpcEngine$2 = _slicedToArray(_yield$JsonRpcEngine$, 3);\n                middlewareError = _yield$JsonRpcEngine$2[0];\n                isComplete = _yield$JsonRpcEngine$2[1];\n                returnHandlers = _yield$JsonRpcEngine$2[2];\n                if (!isComplete) {\n                  _context2.next = 12;\n                  break;\n                }\n                _context2.next = 11;\n                return JsonRpcEngine._runReturnHandlers(returnHandlers);\n              case 11:\n                return _context2.abrupt(\"return\", end(middlewareError));\n              case 12:\n                return _context2.abrupt(\"return\", next( /*#__PURE__*/function () {\n                  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(handlerCallback) {\n                    return _regeneratorRuntime().wrap(function _callee$(_context) {\n                      while (1) switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.prev = 0;\n                          _context.next = 3;\n                          return JsonRpcEngine._runReturnHandlers(returnHandlers);\n                        case 3:\n                          _context.next = 8;\n                          break;\n                        case 5:\n                          _context.prev = 5;\n                          _context.t0 = _context[\"catch\"](0);\n                          return _context.abrupt(\"return\", handlerCallback(_context.t0));\n                        case 8:\n                          return _context.abrupt(\"return\", handlerCallback());\n                        case 9:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }, _callee, null, [[0, 5]]);\n                  }));\n                  return function (_x5) {\n                    return _ref2.apply(this, arguments);\n                  };\n                }()));\n              case 15:\n                _context2.prev = 15;\n                _context2.t0 = _context2[\"catch\"](0);\n                return _context2.abrupt(\"return\", end(_context2.t0));\n              case 18:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, null, [[0, 15]]);\n        }));\n        return function (_x, _x2, _x3, _x4) {\n          return _ref.apply(this, arguments);\n        };\n      }();\n    }\n  }, {\n    key: \"_handleBatch\",\n    value: function () {\n      var _handleBatch2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(reqs, cb) {\n        var responses;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return Promise.all(\n              // 1. Begin executing each request in the order received\n              reqs.map(this._promiseHandle.bind(this)));\n            case 3:\n              responses = _context3.sent;\n              if (!cb) {\n                _context3.next = 6;\n                break;\n              }\n              return _context3.abrupt(\"return\", cb(null, responses));\n            case 6:\n              return _context3.abrupt(\"return\", responses);\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](0);\n              if (!cb) {\n                _context3.next = 13;\n                break;\n              }\n              return _context3.abrupt(\"return\", cb(_context3.t0));\n            case 13:\n              throw _context3.t0;\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this, [[0, 9]]);\n      }));\n      function _handleBatch(_x6, _x7) {\n        return _handleBatch2.apply(this, arguments);\n      }\n      return _handleBatch;\n    }()\n    /**\n     * A promise-wrapped _handle.\n     */\n  }, {\n    key: \"_promiseHandle\",\n    value: function _promiseHandle(req) {\n      var _this3 = this;\n      return new Promise(function (resolve) {\n        _this3._handle(req, function (_err, res) {\n          // There will always be a response, and it will always have any error\n          // that is caught and propagated.\n          resolve(res);\n        });\n      });\n    }\n    /**\n     * Ensures that the request object is valid, processes it, and passes any\n     * error and the response object to the given callback.\n     *\n     * Does not reject.\n     */\n  }, {\n    key: \"_handle\",\n    value: function () {\n      var _handle2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(callerReq, cb) {\n        var _error2, _error3, req, res, error;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(!callerReq || Array.isArray(callerReq) || typeof callerReq !== 'object')) {\n                _context4.next = 3;\n                break;\n              }\n              _error2 = new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.invalidRequest, \"Requests must be plain objects. Received: \".concat(typeof callerReq), {\n                request: callerReq\n              });\n              return _context4.abrupt(\"return\", cb(_error2, {\n                id: undefined,\n                jsonrpc: '2.0',\n                error: _error2\n              }));\n            case 3:\n              if (!(typeof callerReq.method !== 'string')) {\n                _context4.next = 6;\n                break;\n              }\n              _error3 = new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.invalidRequest, \"Must specify a string method. Received: \".concat(typeof callerReq.method), {\n                request: callerReq\n              });\n              return _context4.abrupt(\"return\", cb(_error3, {\n                id: callerReq.id,\n                jsonrpc: '2.0',\n                error: _error3\n              }));\n            case 6:\n              req = Object.assign({}, callerReq);\n              res = {\n                id: req.id,\n                jsonrpc: req.jsonrpc\n              };\n              error = null;\n              _context4.prev = 9;\n              _context4.next = 12;\n              return this._processRequest(req, res);\n            case 12:\n              _context4.next = 17;\n              break;\n            case 14:\n              _context4.prev = 14;\n              _context4.t0 = _context4[\"catch\"](9);\n              // A request handler error, a re-thrown middleware error, or something\n              // unexpected.\n              error = _context4.t0;\n            case 17:\n              if (error) {\n                // Ensure no result is present on an errored response\n                delete res.result;\n                if (!res.error) {\n                  res.error = eth_rpc_errors_1.serializeError(error);\n                }\n              }\n              return _context4.abrupt(\"return\", cb(error, res));\n            case 19:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this, [[9, 14]]);\n      }));\n      function _handle(_x8, _x9) {\n        return _handle2.apply(this, arguments);\n      }\n      return _handle;\n    }()\n    /**\n     * For the given request and response, runs all middleware and their return\n     * handlers, if any, and ensures that internal request processing semantics\n     * are satisfied.\n     */\n  }, {\n    key: \"_processRequest\",\n    value: function () {\n      var _processRequest2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n        var _yield$JsonRpcEngine$3, _yield$JsonRpcEngine$4, error, isComplete, returnHandlers;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return JsonRpcEngine._runAllMiddleware(req, res, this._middleware);\n            case 2:\n              _yield$JsonRpcEngine$3 = _context5.sent;\n              _yield$JsonRpcEngine$4 = _slicedToArray(_yield$JsonRpcEngine$3, 3);\n              error = _yield$JsonRpcEngine$4[0];\n              isComplete = _yield$JsonRpcEngine$4[1];\n              returnHandlers = _yield$JsonRpcEngine$4[2];\n              // Throw if \"end\" was not called, or if the response has neither a result\n              // nor an error.\n              JsonRpcEngine._checkForCompletion(req, res, isComplete);\n              // The return handlers should run even if an error was encountered during\n              // middleware processing.\n              _context5.next = 10;\n              return JsonRpcEngine._runReturnHandlers(returnHandlers);\n            case 10:\n              if (!error) {\n                _context5.next = 12;\n                break;\n              }\n              throw error;\n            case 12:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function _processRequest(_x10, _x11) {\n        return _processRequest2.apply(this, arguments);\n      }\n      return _processRequest;\n    }()\n    /**\n     * Serially executes the given stack of middleware.\n     *\n     * @returns An array of any error encountered during middleware execution,\n     * a boolean indicating whether the request was completed, and an array of\n     * middleware-defined return handlers.\n     */\n  }], [{\n    key: \"_runAllMiddleware\",\n    value: function () {\n      var _runAllMiddleware2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res, middlewareStack) {\n        var returnHandlers, error, isComplete, _iterator, _step, middleware, _yield$JsonRpcEngine$5, _yield$JsonRpcEngine$6;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              returnHandlers = [];\n              error = null;\n              isComplete = false; // Go down stack of middleware, call and collect optional returnHandlers\n              _iterator = _createForOfIteratorHelper(middlewareStack);\n              _context6.prev = 4;\n              _iterator.s();\n            case 6:\n              if ((_step = _iterator.n()).done) {\n                _context6.next = 18;\n                break;\n              }\n              middleware = _step.value;\n              _context6.next = 10;\n              return JsonRpcEngine._runMiddleware(req, res, middleware, returnHandlers);\n            case 10:\n              _yield$JsonRpcEngine$5 = _context6.sent;\n              _yield$JsonRpcEngine$6 = _slicedToArray(_yield$JsonRpcEngine$5, 2);\n              error = _yield$JsonRpcEngine$6[0];\n              isComplete = _yield$JsonRpcEngine$6[1];\n              if (!isComplete) {\n                _context6.next = 16;\n                break;\n              }\n              return _context6.abrupt(\"break\", 18);\n            case 16:\n              _context6.next = 6;\n              break;\n            case 18:\n              _context6.next = 23;\n              break;\n            case 20:\n              _context6.prev = 20;\n              _context6.t0 = _context6[\"catch\"](4);\n              _iterator.e(_context6.t0);\n            case 23:\n              _context6.prev = 23;\n              _iterator.f();\n              return _context6.finish(23);\n            case 26:\n              return _context6.abrupt(\"return\", [error, isComplete, returnHandlers.reverse()]);\n            case 27:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, null, [[4, 20, 23, 26]]);\n      }));\n      function _runAllMiddleware(_x12, _x13, _x14) {\n        return _runAllMiddleware2.apply(this, arguments);\n      }\n      return _runAllMiddleware;\n    }()\n    /**\n     * Runs an individual middleware.\n     *\n     * @returns An array of any error encountered during middleware exection,\n     * and a boolean indicating whether the request should end.\n     */\n  }, {\n    key: \"_runMiddleware\",\n    value: function _runMiddleware(req, res, middleware, returnHandlers) {\n      return new Promise(function (resolve) {\n        var end = function end(err) {\n          var error = err || res.error;\n          if (error) {\n            res.error = eth_rpc_errors_1.serializeError(error);\n          }\n          // True indicates that the request should end\n          resolve([error, true]);\n        };\n        var next = function next(returnHandler) {\n          if (res.error) {\n            end(res.error);\n          } else {\n            if (returnHandler) {\n              if (typeof returnHandler !== 'function') {\n                end(new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.internal, \"JsonRpcEngine: \\\"next\\\" return handlers must be functions. \" + \"Received \\\"\".concat(typeof returnHandler, \"\\\" for request:\\n\").concat(jsonify(req)), {\n                  request: req\n                }));\n              }\n              returnHandlers.push(returnHandler);\n            }\n            // False indicates that the request should not end\n            resolve([null, false]);\n          }\n        };\n        try {\n          middleware(req, res, next, end);\n        } catch (error) {\n          end(error);\n        }\n      });\n    }\n    /**\n     * Serially executes array of return handlers. The request and response are\n     * assumed to be in their scope.\n     */\n  }, {\n    key: \"_runReturnHandlers\",\n    value: function () {\n      var _runReturnHandlers2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(handlers) {\n        var _iterator2, _step2, _loop;\n        return _regeneratorRuntime().wrap(function _callee7$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              _iterator2 = _createForOfIteratorHelper(handlers);\n              _context8.prev = 1;\n              _loop = /*#__PURE__*/_regeneratorRuntime().mark(function _loop() {\n                var handler;\n                return _regeneratorRuntime().wrap(function _loop$(_context7) {\n                  while (1) switch (_context7.prev = _context7.next) {\n                    case 0:\n                      handler = _step2.value;\n                      _context7.next = 3;\n                      return new Promise(function (resolve, reject) {\n                        handler(function (err) {\n                          return err ? reject(err) : resolve();\n                        });\n                      });\n                    case 3:\n                    case \"end\":\n                      return _context7.stop();\n                  }\n                }, _loop);\n              });\n              _iterator2.s();\n            case 4:\n              if ((_step2 = _iterator2.n()).done) {\n                _context8.next = 8;\n                break;\n              }\n              return _context8.delegateYield(_loop(), \"t0\", 6);\n            case 6:\n              _context8.next = 4;\n              break;\n            case 8:\n              _context8.next = 13;\n              break;\n            case 10:\n              _context8.prev = 10;\n              _context8.t1 = _context8[\"catch\"](1);\n              _iterator2.e(_context8.t1);\n            case 13:\n              _context8.prev = 13;\n              _iterator2.f();\n              return _context8.finish(13);\n            case 16:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee7, null, [[1, 10, 13, 16]]);\n      }));\n      function _runReturnHandlers(_x15) {\n        return _runReturnHandlers2.apply(this, arguments);\n      }\n      return _runReturnHandlers;\n    }()\n    /**\n     * Throws an error if the response has neither a result nor an error, or if\n     * the \"isComplete\" flag is falsy.\n     */\n  }, {\n    key: \"_checkForCompletion\",\n    value: function _checkForCompletion(req, res, isComplete) {\n      if (!('result' in res) && !('error' in res)) {\n        throw new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.internal, \"JsonRpcEngine: Response has no error or result for request:\\n\".concat(jsonify(req)), {\n          request: req\n        });\n      }\n      if (!isComplete) {\n        throw new eth_rpc_errors_1.EthereumRpcError(eth_rpc_errors_1.errorCodes.rpc.internal, \"JsonRpcEngine: Nothing ended request:\\n\".concat(jsonify(req)), {\n          request: req\n        });\n      }\n    }\n  }]);\n  return JsonRpcEngine;\n}(safe_event_emitter_1.default);\nexports.JsonRpcEngine = JsonRpcEngine;\nfunction jsonify(request) {\n  return JSON.stringify(request, null, 2);\n}","map":{"version":3,"names":["safe_event_emitter_1","__importDefault","require","eth_rpc_errors_1","JsonRpcEngine","_safe_event_emitter_","_inherits","_super","_createSuper","_this","_classCallCheck","call","_middleware","_createClass","key","value","push","middleware","handle","req","cb","Error","Array","isArray","_handleBatch","_handle","_promiseHandle","asMiddleware","_this2","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","res","next","end","_yield$JsonRpcEngine$","_yield$JsonRpcEngine$2","middlewareError","isComplete","returnHandlers","wrap","_callee2$","_context2","prev","_runAllMiddleware","sent","_slicedToArray","_runReturnHandlers","abrupt","_ref2","_callee","handlerCallback","_callee$","_context","t0","stop","_x5","apply","arguments","_x","_x2","_x3","_x4","_handleBatch2","_callee3","reqs","responses","_callee3$","_context3","Promise","all","map","bind","_x6","_x7","_this3","resolve","_err","_handle2","_callee4","callerReq","_error2","_error3","error","_callee4$","_context4","EthereumRpcError","errorCodes","rpc","invalidRequest","concat","request","id","undefined","jsonrpc","method","Object","assign","_processRequest","result","serializeError","_x8","_x9","_processRequest2","_callee5","_yield$JsonRpcEngine$3","_yield$JsonRpcEngine$4","_callee5$","_context5","_checkForCompletion","_x10","_x11","_runAllMiddleware2","_callee6","middlewareStack","_iterator","_step","_yield$JsonRpcEngine$5","_yield$JsonRpcEngine$6","_callee6$","_context6","_createForOfIteratorHelper","s","n","done","_runMiddleware","e","f","finish","reverse","_x12","_x13","_x14","err","returnHandler","internal","jsonify","_runReturnHandlers2","_callee7","handlers","_iterator2","_step2","_loop","_callee7$","_context8","handler","_loop$","_context7","reject","delegateYield","t1","_x15","default","exports","JSON","stringify"],"sources":["../src/JsonRpcEngine.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script"}