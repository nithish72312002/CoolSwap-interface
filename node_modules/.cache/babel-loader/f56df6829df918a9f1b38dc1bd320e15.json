{"ast":null,"code":"var EventEmitter = require('events').EventEmitter;\nvar inherits = require('util').inherits;\nvar ethUtil = require('ethereumjs-util');\nvar EthBlockTracker = require('eth-block-tracker');\nvar map = require('async/map');\nvar eachSeries = require('async/eachSeries');\nvar Stoplight = require('./util/stoplight.js');\nvar cacheUtils = require('./util/rpc-cache-utils.js');\nvar createPayload = require('./util/create-payload.js');\nvar noop = function noop() {};\nmodule.exports = Web3ProviderEngine;\ninherits(Web3ProviderEngine, EventEmitter);\nfunction Web3ProviderEngine(opts) {\n  var self = this;\n  EventEmitter.call(self);\n  self.setMaxListeners(30);\n  // parse options\n  opts = opts || {};\n\n  // block polling\n  var directProvider = {\n    sendAsync: self._handleAsync.bind(self)\n  };\n  var blockTrackerProvider = opts.blockTrackerProvider || directProvider;\n  self._blockTracker = opts.blockTracker || new EthBlockTracker({\n    provider: blockTrackerProvider,\n    pollingInterval: opts.pollingInterval || 4000,\n    setSkipCacheFlag: true\n  });\n\n  // set initialization blocker\n  self._ready = new Stoplight();\n\n  // local state\n  self.currentBlock = null;\n  self._providers = [];\n}\n\n// public\n\nWeb3ProviderEngine.prototype.start = function () {\n  var _this = this;\n  var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  var self = this;\n\n  // trigger start\n  self._ready.go();\n\n  // on new block, request block body and emit as events\n  self._blockTracker.on('latest', function (blockNumber) {\n    // get block body\n    self._getBlockByNumberWithRetry(blockNumber, function (err, block) {\n      if (err) {\n        _this.emit('error', err);\n        return;\n      }\n      if (!block) {\n        console.log(block);\n        _this.emit('error', new Error(\"Could not find block\"));\n        return;\n      }\n      var bufferBlock = toBufferBlock(block);\n      // set current + emit \"block\" event\n      self._setCurrentBlock(bufferBlock);\n      // emit other events\n      self.emit('rawBlock', block);\n      self.emit('latest', block);\n    });\n  });\n\n  // forward other events\n  self._blockTracker.on('sync', self.emit.bind(self, 'sync'));\n  self._blockTracker.on('error', self.emit.bind(self, 'error'));\n\n  // update state\n  self._running = true;\n  // signal that we started\n  self.emit('start');\n};\nWeb3ProviderEngine.prototype.stop = function () {\n  var self = this;\n  // stop block polling by removing event listeners\n  self._blockTracker.removeAllListeners();\n  // update state\n  self._running = false;\n  // signal that we stopped\n  self.emit('stop');\n};\nWeb3ProviderEngine.prototype.isRunning = function () {\n  var self = this;\n  return self._running;\n};\nWeb3ProviderEngine.prototype.addProvider = function (source, index) {\n  var self = this;\n  if (typeof index === 'number') {\n    self._providers.splice(index, 0, source);\n  } else {\n    self._providers.push(source);\n  }\n  source.setEngine(this);\n};\nWeb3ProviderEngine.prototype.removeProvider = function (source) {\n  var self = this;\n  var index = self._providers.indexOf(source);\n  if (index < 0) throw new Error('Provider not found.');\n  self._providers.splice(index, 1);\n};\nWeb3ProviderEngine.prototype.send = function (payload) {\n  throw new Error('Web3ProviderEngine does not support synchronous requests.');\n};\nWeb3ProviderEngine.prototype.sendAsync = function (payload, cb) {\n  var self = this;\n  self._ready.await(function () {\n    if (Array.isArray(payload)) {\n      // handle batch\n      map(payload, self._handleAsync.bind(self), cb);\n    } else {\n      // handle single\n      self._handleAsync(payload, cb);\n    }\n  });\n};\n\n// private\n\nWeb3ProviderEngine.prototype._getBlockByNumberWithRetry = function (blockNumber, cb) {\n  var self = this;\n  var retriesRemaining = 5;\n  attemptRequest();\n  return;\n  function attemptRequest() {\n    self._getBlockByNumber(blockNumber, afterRequest);\n  }\n  function afterRequest(err, block) {\n    // anomalous error occurred\n    if (err) return cb(err);\n    // block not ready yet\n    if (!block) {\n      if (retriesRemaining > 0) {\n        // wait 1s then try again\n        retriesRemaining--;\n        setTimeout(function () {\n          attemptRequest();\n        }, 1000);\n        return;\n      } else {\n        // give up, return a null block\n        cb(null, null);\n        return;\n      }\n    }\n    // otherwise return result\n    cb(null, block);\n    return;\n  }\n};\nWeb3ProviderEngine.prototype._getBlockByNumber = function (blockNumber, cb) {\n  var req = createPayload({\n    method: 'eth_getBlockByNumber',\n    params: [blockNumber, false],\n    skipCache: true\n  });\n  this._handleAsync(req, function (err, res) {\n    if (err) return cb(err);\n    return cb(null, res.result);\n  });\n};\nWeb3ProviderEngine.prototype._handleAsync = function (payload, finished) {\n  var self = this;\n  var currentProvider = -1;\n  var result = null;\n  var error = null;\n  var stack = [];\n  next();\n  function next(after) {\n    currentProvider += 1;\n    stack.unshift(after);\n\n    // Bubbled down as far as we could go, and the request wasn't\n    // handled. Return an error.\n    if (currentProvider >= self._providers.length) {\n      end(new Error('Request for method \"' + payload.method + '\" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));\n    } else {\n      try {\n        var provider = self._providers[currentProvider];\n        provider.handleRequest(payload, next, end);\n      } catch (e) {\n        end(e);\n      }\n    }\n  }\n  function end(_error, _result) {\n    error = _error;\n    result = _result;\n    eachSeries(stack, function (fn, callback) {\n      if (fn) {\n        fn(error, result, callback);\n      } else {\n        callback();\n      }\n    }, function () {\n      var resultObj = {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        result: result\n      };\n      if (error != null) {\n        resultObj.error = {\n          message: error.stack || error.message || error,\n          code: -32000\n        };\n        // respond with both error formats\n        finished(error, resultObj);\n      } else {\n        finished(null, resultObj);\n      }\n    });\n  }\n};\n\n//\n// from remote-data\n//\n\nWeb3ProviderEngine.prototype._setCurrentBlock = function (block) {\n  var self = this;\n  self.currentBlock = block;\n  self.emit('block', block);\n};\n\n// util\n\nfunction toBufferBlock(jsonBlock) {\n  return {\n    number: ethUtil.toBuffer(jsonBlock.number),\n    hash: ethUtil.toBuffer(jsonBlock.hash),\n    parentHash: ethUtil.toBuffer(jsonBlock.parentHash),\n    nonce: ethUtil.toBuffer(jsonBlock.nonce),\n    mixHash: ethUtil.toBuffer(jsonBlock.mixHash),\n    sha3Uncles: ethUtil.toBuffer(jsonBlock.sha3Uncles),\n    logsBloom: ethUtil.toBuffer(jsonBlock.logsBloom),\n    transactionsRoot: ethUtil.toBuffer(jsonBlock.transactionsRoot),\n    stateRoot: ethUtil.toBuffer(jsonBlock.stateRoot),\n    receiptsRoot: ethUtil.toBuffer(jsonBlock.receiptRoot || jsonBlock.receiptsRoot),\n    miner: ethUtil.toBuffer(jsonBlock.miner),\n    difficulty: ethUtil.toBuffer(jsonBlock.difficulty),\n    totalDifficulty: ethUtil.toBuffer(jsonBlock.totalDifficulty),\n    size: ethUtil.toBuffer(jsonBlock.size),\n    extraData: ethUtil.toBuffer(jsonBlock.extraData),\n    gasLimit: ethUtil.toBuffer(jsonBlock.gasLimit),\n    gasUsed: ethUtil.toBuffer(jsonBlock.gasUsed),\n    timestamp: ethUtil.toBuffer(jsonBlock.timestamp),\n    transactions: jsonBlock.transactions\n  };\n}","map":{"version":3,"names":["EventEmitter","require","inherits","ethUtil","EthBlockTracker","map","eachSeries","Stoplight","cacheUtils","createPayload","noop","module","exports","Web3ProviderEngine","opts","self","call","setMaxListeners","directProvider","sendAsync","_handleAsync","bind","blockTrackerProvider","_blockTracker","blockTracker","provider","pollingInterval","setSkipCacheFlag","_ready","currentBlock","_providers","prototype","start","_this","cb","arguments","length","undefined","go","on","blockNumber","_getBlockByNumberWithRetry","err","block","emit","console","log","Error","bufferBlock","toBufferBlock","_setCurrentBlock","_running","stop","removeAllListeners","isRunning","addProvider","source","index","splice","push","setEngine","removeProvider","indexOf","send","payload","await","Array","isArray","retriesRemaining","attemptRequest","_getBlockByNumber","afterRequest","setTimeout","req","method","params","skipCache","res","result","finished","currentProvider","error","stack","next","after","unshift","end","handleRequest","e","_error","_result","fn","callback","resultObj","id","jsonrpc","message","code","jsonBlock","number","toBuffer","hash","parentHash","nonce","mixHash","sha3Uncles","logsBloom","transactionsRoot","stateRoot","receiptsRoot","receiptRoot","miner","difficulty","totalDifficulty","size","extraData","gasLimit","gasUsed","timestamp","transactions"],"sources":["E:/testprojects/CoolSwap-interface/node_modules/web3-provider-engine/index.js"],"sourcesContent":["const EventEmitter = require('events').EventEmitter\nconst inherits = require('util').inherits\nconst ethUtil = require('ethereumjs-util')\nconst EthBlockTracker = require('eth-block-tracker')\nconst map = require('async/map')\nconst eachSeries = require('async/eachSeries')\nconst Stoplight = require('./util/stoplight.js')\nconst cacheUtils = require('./util/rpc-cache-utils.js')\nconst createPayload = require('./util/create-payload.js')\nconst noop = function(){}\n\nmodule.exports = Web3ProviderEngine\n\n\ninherits(Web3ProviderEngine, EventEmitter)\n\nfunction Web3ProviderEngine(opts) {\n  const self = this\n  EventEmitter.call(self)\n  self.setMaxListeners(30)\n  // parse options\n  opts = opts || {}\n\n  // block polling\n  const directProvider = { sendAsync: self._handleAsync.bind(self) }\n  const blockTrackerProvider = opts.blockTrackerProvider || directProvider\n  self._blockTracker = opts.blockTracker || new EthBlockTracker({\n    provider: blockTrackerProvider,\n    pollingInterval: opts.pollingInterval || 4000,\n    setSkipCacheFlag: true,\n  })\n\n  // set initialization blocker\n  self._ready = new Stoplight()\n\n  // local state\n  self.currentBlock = null\n  self._providers = []\n}\n\n// public\n\nWeb3ProviderEngine.prototype.start = function(cb = noop){\n  const self = this\n\n  // trigger start\n  self._ready.go()\n\n  // on new block, request block body and emit as events\n  self._blockTracker.on('latest', (blockNumber) => {\n    // get block body\n    self._getBlockByNumberWithRetry(blockNumber, (err, block) => {\n      if (err) {\n        this.emit('error', err)\n        return\n      }\n      if (!block) {\n        console.log(block)\n        this.emit('error', new Error(\"Could not find block\"))\n        return\n      }\n      const bufferBlock = toBufferBlock(block)\n      // set current + emit \"block\" event\n      self._setCurrentBlock(bufferBlock)\n      // emit other events\n      self.emit('rawBlock', block)\n      self.emit('latest', block)\n    })\n  })\n\n  // forward other events\n  self._blockTracker.on('sync', self.emit.bind(self, 'sync'))\n  self._blockTracker.on('error', self.emit.bind(self, 'error'))\n\n  // update state\n  self._running = true\n  // signal that we started\n  self.emit('start')\n}\n\nWeb3ProviderEngine.prototype.stop = function(){\n  const self = this\n  // stop block polling by removing event listeners\n  self._blockTracker.removeAllListeners()\n  // update state\n  self._running = false\n  // signal that we stopped\n  self.emit('stop')\n}\n\nWeb3ProviderEngine.prototype.isRunning = function(){\n  const self = this\n  return self._running\n}\n\nWeb3ProviderEngine.prototype.addProvider = function(source, index){\n  const self = this\n  if (typeof index === 'number') {\n    self._providers.splice(index, 0, source)\n  } else {\n    self._providers.push(source)\n  }\n  source.setEngine(this)\n}\n\nWeb3ProviderEngine.prototype.removeProvider = function(source){\n  const self = this\n  const index = self._providers.indexOf(source)\n  if (index < 0) throw new Error('Provider not found.')\n  self._providers.splice(index, 1)\n}\n\nWeb3ProviderEngine.prototype.send = function(payload){\n  throw new Error('Web3ProviderEngine does not support synchronous requests.')\n}\n\nWeb3ProviderEngine.prototype.sendAsync = function(payload, cb){\n  const self = this\n  self._ready.await(function(){\n\n    if (Array.isArray(payload)) {\n      // handle batch\n      map(payload, self._handleAsync.bind(self), cb)\n    } else {\n      // handle single\n      self._handleAsync(payload, cb)\n    }\n\n  })\n}\n\n// private\n\nWeb3ProviderEngine.prototype._getBlockByNumberWithRetry = function(blockNumber, cb) {\n  const self = this\n\n  let retriesRemaining = 5\n\n  attemptRequest()\n  return\n\n  function attemptRequest () {\n    self._getBlockByNumber(blockNumber, afterRequest)\n  }\n\n  function afterRequest (err, block) {\n    // anomalous error occurred\n    if (err) return cb(err)\n    // block not ready yet\n    if (!block) {\n      if (retriesRemaining > 0) {\n        // wait 1s then try again\n        retriesRemaining--\n        setTimeout(function () {\n          attemptRequest()\n        }, 1000)\n        return\n      } else {\n        // give up, return a null block\n        cb(null, null)\n        return\n      }\n    }\n    // otherwise return result\n    cb(null, block)\n    return\n  }\n}\n\n\nWeb3ProviderEngine.prototype._getBlockByNumber = function(blockNumber, cb) {\n  const req = createPayload({ method: 'eth_getBlockByNumber', params: [blockNumber, false], skipCache: true })\n  this._handleAsync(req, (err, res) => {\n    if (err) return cb(err)\n    return cb(null, res.result)\n  })\n}\n\nWeb3ProviderEngine.prototype._handleAsync = function(payload, finished) {\n  var self = this\n  var currentProvider = -1\n  var result = null\n  var error = null\n\n  var stack = []\n\n  next()\n\n  function next(after) {\n    currentProvider += 1\n    stack.unshift(after)\n\n    // Bubbled down as far as we could go, and the request wasn't\n    // handled. Return an error.\n    if (currentProvider >= self._providers.length) {\n      end(new Error('Request for method \"' + payload.method + '\" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'))\n    } else {\n      try {\n        var provider = self._providers[currentProvider]\n        provider.handleRequest(payload, next, end)\n      } catch (e) {\n        end(e)\n      }\n    }\n  }\n\n  function end(_error, _result) {\n    error = _error\n    result = _result\n\n    eachSeries(stack, function(fn, callback) {\n\n      if (fn) {\n        fn(error, result, callback)\n      } else {\n        callback()\n      }\n    }, function() {\n\n      var resultObj = {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        result: result\n      }\n\n      if (error != null) {\n        resultObj.error = {\n          message: error.stack || error.message || error,\n          code: -32000\n        }\n        // respond with both error formats\n        finished(error, resultObj)\n      } else {\n        finished(null, resultObj)\n      }\n    })\n  }\n}\n\n//\n// from remote-data\n//\n\nWeb3ProviderEngine.prototype._setCurrentBlock = function(block){\n  const self = this\n  self.currentBlock = block\n  self.emit('block', block)\n}\n\n// util\n\nfunction toBufferBlock (jsonBlock) {\n  return {\n    number:           ethUtil.toBuffer(jsonBlock.number),\n    hash:             ethUtil.toBuffer(jsonBlock.hash),\n    parentHash:       ethUtil.toBuffer(jsonBlock.parentHash),\n    nonce:            ethUtil.toBuffer(jsonBlock.nonce),\n    mixHash:          ethUtil.toBuffer(jsonBlock.mixHash),\n    sha3Uncles:       ethUtil.toBuffer(jsonBlock.sha3Uncles),\n    logsBloom:        ethUtil.toBuffer(jsonBlock.logsBloom),\n    transactionsRoot: ethUtil.toBuffer(jsonBlock.transactionsRoot),\n    stateRoot:        ethUtil.toBuffer(jsonBlock.stateRoot),\n    receiptsRoot:     ethUtil.toBuffer(jsonBlock.receiptRoot || jsonBlock.receiptsRoot),\n    miner:            ethUtil.toBuffer(jsonBlock.miner),\n    difficulty:       ethUtil.toBuffer(jsonBlock.difficulty),\n    totalDifficulty:  ethUtil.toBuffer(jsonBlock.totalDifficulty),\n    size:             ethUtil.toBuffer(jsonBlock.size),\n    extraData:        ethUtil.toBuffer(jsonBlock.extraData),\n    gasLimit:         ethUtil.toBuffer(jsonBlock.gasLimit),\n    gasUsed:          ethUtil.toBuffer(jsonBlock.gasUsed),\n    timestamp:        ethUtil.toBuffer(jsonBlock.timestamp),\n    transactions:     jsonBlock.transactions,\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}