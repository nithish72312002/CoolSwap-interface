{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createIdRemapMiddleware = void 0;\nvar getUniqueId_1 = require(\"./getUniqueId\");\nfunction createIdRemapMiddleware() {\n  return function (req, res, next, _end) {\n    var originalId = req.id;\n    var newId = getUniqueId_1.getUniqueId();\n    req.id = newId;\n    res.id = newId;\n    next(function (done) {\n      req.id = originalId;\n      res.id = originalId;\n      done();\n    });\n  };\n}\nexports.createIdRemapMiddleware = createIdRemapMiddleware;","map":{"version":3,"names":["getUniqueId_1","require","createIdRemapMiddleware","req","res","next","_end","originalId","id","newId","getUniqueId","done","exports"],"sources":["../src/idRemapMiddleware.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,OAAA;AAGA,SAAgBC,uBAAuBA,CAAA;EACrC,OAAO,UAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,IAAI,EAAI;IAC9B,IAAMC,UAAU,GAAGJ,GAAG,CAACK,EAAE;IACzB,IAAMC,KAAK,GAAGT,aAAA,CAAAU,WAAW,EAAE;IAC3BP,GAAG,CAACK,EAAE,GAAGC,KAAK;IACdL,GAAG,CAACI,EAAE,GAAGC,KAAK;IACdJ,IAAI,CAAC,UAACM,IAAI,EAAI;MACZR,GAAG,CAACK,EAAE,GAAGD,UAAU;MACnBH,GAAG,CAACI,EAAE,GAAGD,UAAU;MACnBI,IAAI,EAAE;IACR,CAAC,CAAC;EACJ,CAAC;AACH;AAZAC,OAAA,CAAAV,uBAAA,GAAAA,uBAAA"},"metadata":{},"sourceType":"script"}