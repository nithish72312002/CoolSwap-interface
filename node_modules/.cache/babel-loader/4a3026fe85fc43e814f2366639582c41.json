{"ast":null,"code":"\"use strict\";\n\nimport _classCallCheck from \"E:\\\\testprojects\\\\CoolSwap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\testprojects\\\\CoolSwap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"E:\\\\testprojects\\\\CoolSwap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:\\\\testprojects\\\\CoolSwap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == typeof h && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator.return && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(typeof e + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport aes from \"aes-js\";\nimport scrypt from \"scrypt-js\";\nimport { getAddress } from \"@ethersproject/address\";\nimport { arrayify, concat, hexlify } from \"@ethersproject/bytes\";\nimport { defaultPath, entropyToMnemonic, HDNode, mnemonicToEntropy } from \"@ethersproject/hdnode\";\nimport { keccak256 } from \"@ethersproject/keccak256\";\nimport { pbkdf2 as _pbkdf2 } from \"@ethersproject/pbkdf2\";\nimport { randomBytes } from \"@ethersproject/random\";\nimport { Description } from \"@ethersproject/properties\";\nimport { computeAddress } from \"@ethersproject/transactions\";\nimport { getPassword, looseArrayify, searchPath, uuidV4, zpad } from \"./utils\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nvar logger = new Logger(version);\n// Exported Types\nfunction hasMnemonic(value) {\n  return value != null && value.mnemonic && value.mnemonic.phrase;\n}\nexport var KeystoreAccount = /*#__PURE__*/function (_Description) {\n  _inherits(KeystoreAccount, _Description);\n  var _super = _createSuper(KeystoreAccount);\n  function KeystoreAccount() {\n    _classCallCheck(this, KeystoreAccount);\n    return _super.apply(this, arguments);\n  }\n  _createClass(KeystoreAccount, [{\n    key: \"isKeystoreAccount\",\n    value: function isKeystoreAccount(value) {\n      return !!(value && value._isKeystoreAccount);\n    }\n  }]);\n  return KeystoreAccount;\n}(Description);\nfunction _decrypt(data, key, ciphertext) {\n  var cipher = searchPath(data, \"crypto/cipher\");\n  if (cipher === \"aes-128-ctr\") {\n    var iv = looseArrayify(searchPath(data, \"crypto/cipherparams/iv\"));\n    var counter = new aes.Counter(iv);\n    var aesCtr = new aes.ModeOfOperation.ctr(key, counter);\n    return arrayify(aesCtr.decrypt(ciphertext));\n  }\n  return null;\n}\nfunction _getAccount(data, key) {\n  var ciphertext = looseArrayify(searchPath(data, \"crypto/ciphertext\"));\n  var computedMAC = hexlify(keccak256(concat([key.slice(16, 32), ciphertext]))).substring(2);\n  if (computedMAC !== searchPath(data, \"crypto/mac\").toLowerCase()) {\n    throw new Error(\"invalid password\");\n  }\n  var privateKey = _decrypt(data, key.slice(0, 16), ciphertext);\n  if (!privateKey) {\n    logger.throwError(\"unsupported cipher\", Logger.errors.UNSUPPORTED_OPERATION, {\n      operation: \"decrypt\"\n    });\n  }\n  var mnemonicKey = key.slice(32, 64);\n  var address = computeAddress(privateKey);\n  if (data.address) {\n    var check = data.address.toLowerCase();\n    if (check.substring(0, 2) !== \"0x\") {\n      check = \"0x\" + check;\n    }\n    if (getAddress(check) !== address) {\n      throw new Error(\"address mismatch\");\n    }\n  }\n  var account = {\n    _isKeystoreAccount: true,\n    address: address,\n    privateKey: hexlify(privateKey)\n  };\n  // Version 0.1 x-ethers metadata must contain an encrypted mnemonic phrase\n  if (searchPath(data, \"x-ethers/version\") === \"0.1\") {\n    var mnemonicCiphertext = looseArrayify(searchPath(data, \"x-ethers/mnemonicCiphertext\"));\n    var mnemonicIv = looseArrayify(searchPath(data, \"x-ethers/mnemonicCounter\"));\n    var mnemonicCounter = new aes.Counter(mnemonicIv);\n    var mnemonicAesCtr = new aes.ModeOfOperation.ctr(mnemonicKey, mnemonicCounter);\n    var path = searchPath(data, \"x-ethers/path\") || defaultPath;\n    var locale = searchPath(data, \"x-ethers/locale\") || \"en\";\n    var entropy = arrayify(mnemonicAesCtr.decrypt(mnemonicCiphertext));\n    try {\n      var mnemonic = entropyToMnemonic(entropy, locale);\n      var node = HDNode.fromMnemonic(mnemonic, null, locale).derivePath(path);\n      if (node.privateKey != account.privateKey) {\n        throw new Error(\"mnemonic mismatch\");\n      }\n      account.mnemonic = node.mnemonic;\n    } catch (error) {\n      // If we don't have the locale wordlist installed to\n      // read this mnemonic, just bail and don't set the\n      // mnemonic\n      if (error.code !== Logger.errors.INVALID_ARGUMENT || error.argument !== \"wordlist\") {\n        throw error;\n      }\n    }\n  }\n  return new KeystoreAccount(account);\n}\nfunction pbkdf2Sync(passwordBytes, salt, count, dkLen, prfFunc) {\n  return arrayify(_pbkdf2(passwordBytes, salt, count, dkLen, prfFunc));\n}\nfunction pbkdf2(passwordBytes, salt, count, dkLen, prfFunc) {\n  return Promise.resolve(pbkdf2Sync(passwordBytes, salt, count, dkLen, prfFunc));\n}\nfunction _computeKdfKey(data, password, pbkdf2Func, scryptFunc, progressCallback) {\n  var passwordBytes = getPassword(password);\n  var kdf = searchPath(data, \"crypto/kdf\");\n  if (kdf && typeof kdf === \"string\") {\n    var throwError = function throwError(name, value) {\n      return logger.throwArgumentError(\"invalid key-derivation function parameters\", name, value);\n    };\n    if (kdf.toLowerCase() === \"scrypt\") {\n      var salt = looseArrayify(searchPath(data, \"crypto/kdfparams/salt\"));\n      var N = parseInt(searchPath(data, \"crypto/kdfparams/n\"));\n      var r = parseInt(searchPath(data, \"crypto/kdfparams/r\"));\n      var p = parseInt(searchPath(data, \"crypto/kdfparams/p\"));\n      // Check for all required parameters\n      if (!N || !r || !p) {\n        throwError(\"kdf\", kdf);\n      }\n      // Make sure N is a power of 2\n      if ((N & N - 1) !== 0) {\n        throwError(\"N\", N);\n      }\n      var dkLen = parseInt(searchPath(data, \"crypto/kdfparams/dklen\"));\n      if (dkLen !== 32) {\n        throwError(\"dklen\", dkLen);\n      }\n      return scryptFunc(passwordBytes, salt, N, r, p, 64, progressCallback);\n    } else if (kdf.toLowerCase() === \"pbkdf2\") {\n      var _salt = looseArrayify(searchPath(data, \"crypto/kdfparams/salt\"));\n      var prfFunc = null;\n      var prf = searchPath(data, \"crypto/kdfparams/prf\");\n      if (prf === \"hmac-sha256\") {\n        prfFunc = \"sha256\";\n      } else if (prf === \"hmac-sha512\") {\n        prfFunc = \"sha512\";\n      } else {\n        throwError(\"prf\", prf);\n      }\n      var count = parseInt(searchPath(data, \"crypto/kdfparams/c\"));\n      var _dkLen = parseInt(searchPath(data, \"crypto/kdfparams/dklen\"));\n      if (_dkLen !== 32) {\n        throwError(\"dklen\", _dkLen);\n      }\n      return pbkdf2Func(passwordBytes, _salt, count, _dkLen, prfFunc);\n    }\n  }\n  return logger.throwArgumentError(\"unsupported key-derivation function\", \"kdf\", kdf);\n}\nexport function decryptSync(json, password) {\n  var data = JSON.parse(json);\n  var key = _computeKdfKey(data, password, pbkdf2Sync, scrypt.syncScrypt);\n  return _getAccount(data, key);\n}\nexport function decrypt(json, password, progressCallback) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var data, key;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          data = JSON.parse(json);\n          _context.next = 3;\n          return _computeKdfKey(data, password, pbkdf2, scrypt.scrypt, progressCallback);\n        case 3:\n          key = _context.sent;\n          return _context.abrupt(\"return\", _getAccount(data, key));\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n}\nexport function encrypt(account, password, options, progressCallback) {\n  try {\n    // Check the address matches the private key\n    if (getAddress(account.address) !== computeAddress(account.privateKey)) {\n      throw new Error(\"address/privateKey mismatch\");\n    }\n    // Check the mnemonic (if any) matches the private key\n    if (hasMnemonic(account)) {\n      var mnemonic = account.mnemonic;\n      var node = HDNode.fromMnemonic(mnemonic.phrase, null, mnemonic.locale).derivePath(mnemonic.path || defaultPath);\n      if (node.privateKey != account.privateKey) {\n        throw new Error(\"mnemonic mismatch\");\n      }\n    }\n  } catch (e) {\n    return Promise.reject(e);\n  }\n  // The options are optional, so adjust the call as needed\n  if (typeof options === \"function\" && !progressCallback) {\n    progressCallback = options;\n    options = {};\n  }\n  if (!options) {\n    options = {};\n  }\n  var privateKey = arrayify(account.privateKey);\n  var passwordBytes = getPassword(password);\n  var entropy = null;\n  var path = null;\n  var locale = null;\n  if (hasMnemonic(account)) {\n    var srcMnemonic = account.mnemonic;\n    entropy = arrayify(mnemonicToEntropy(srcMnemonic.phrase, srcMnemonic.locale || \"en\"));\n    path = srcMnemonic.path || defaultPath;\n    locale = srcMnemonic.locale || \"en\";\n  }\n  var client = options.client;\n  if (!client) {\n    client = \"ethers.js\";\n  }\n  // Check/generate the salt\n  var salt = null;\n  if (options.salt) {\n    salt = arrayify(options.salt);\n  } else {\n    salt = randomBytes(32);\n    ;\n  }\n  // Override initialization vector\n  var iv = null;\n  if (options.iv) {\n    iv = arrayify(options.iv);\n    if (iv.length !== 16) {\n      throw new Error(\"invalid iv\");\n    }\n  } else {\n    iv = randomBytes(16);\n  }\n  // Override the uuid\n  var uuidRandom = null;\n  if (options.uuid) {\n    uuidRandom = arrayify(options.uuid);\n    if (uuidRandom.length !== 16) {\n      throw new Error(\"invalid uuid\");\n    }\n  } else {\n    uuidRandom = randomBytes(16);\n  }\n  // Override the scrypt password-based key derivation function parameters\n  var N = 1 << 17,\n    r = 8,\n    p = 1;\n  if (options.scrypt) {\n    if (options.scrypt.N) {\n      N = options.scrypt.N;\n    }\n    if (options.scrypt.r) {\n      r = options.scrypt.r;\n    }\n    if (options.scrypt.p) {\n      p = options.scrypt.p;\n    }\n  }\n  // We take 64 bytes:\n  //   - 32 bytes   As normal for the Web3 secret storage (derivedKey, macPrefix)\n  //   - 32 bytes   AES key to encrypt mnemonic with (required here to be Ethers Wallet)\n  return scrypt.scrypt(passwordBytes, salt, N, r, p, 64, progressCallback).then(function (key) {\n    key = arrayify(key);\n    // This will be used to encrypt the wallet (as per Web3 secret storage)\n    var derivedKey = key.slice(0, 16);\n    var macPrefix = key.slice(16, 32);\n    // This will be used to encrypt the mnemonic phrase (if any)\n    var mnemonicKey = key.slice(32, 64);\n    // Encrypt the private key\n    var counter = new aes.Counter(iv);\n    var aesCtr = new aes.ModeOfOperation.ctr(derivedKey, counter);\n    var ciphertext = arrayify(aesCtr.encrypt(privateKey));\n    // Compute the message authentication code, used to check the password\n    var mac = keccak256(concat([macPrefix, ciphertext]));\n    // See: https://github.com/ethereum/wiki/wiki/Web3-Secret-Storage-Definition\n    var data = {\n      address: account.address.substring(2).toLowerCase(),\n      id: uuidV4(uuidRandom),\n      version: 3,\n      Crypto: {\n        cipher: \"aes-128-ctr\",\n        cipherparams: {\n          iv: hexlify(iv).substring(2)\n        },\n        ciphertext: hexlify(ciphertext).substring(2),\n        kdf: \"scrypt\",\n        kdfparams: {\n          salt: hexlify(salt).substring(2),\n          n: N,\n          dklen: 32,\n          p: p,\n          r: r\n        },\n        mac: mac.substring(2)\n      }\n    };\n    // If we have a mnemonic, encrypt it into the JSON wallet\n    if (entropy) {\n      var mnemonicIv = randomBytes(16);\n      var mnemonicCounter = new aes.Counter(mnemonicIv);\n      var mnemonicAesCtr = new aes.ModeOfOperation.ctr(mnemonicKey, mnemonicCounter);\n      var mnemonicCiphertext = arrayify(mnemonicAesCtr.encrypt(entropy));\n      var now = new Date();\n      var timestamp = now.getUTCFullYear() + \"-\" + zpad(now.getUTCMonth() + 1, 2) + \"-\" + zpad(now.getUTCDate(), 2) + \"T\" + zpad(now.getUTCHours(), 2) + \"-\" + zpad(now.getUTCMinutes(), 2) + \"-\" + zpad(now.getUTCSeconds(), 2) + \".0Z\";\n      data[\"x-ethers\"] = {\n        client: client,\n        gethFilename: \"UTC--\" + timestamp + \"--\" + data.address,\n        mnemonicCounter: hexlify(mnemonicIv).substring(2),\n        mnemonicCiphertext: hexlify(mnemonicCiphertext).substring(2),\n        path: path,\n        locale: locale,\n        version: \"0.1\"\n      };\n    }\n    return JSON.stringify(data);\n  });\n}","map":{"version":3,"names":["_classCallCheck","_createClass","_inherits","_createSuper","_regeneratorRuntime","aes","scrypt","getAddress","arrayify","concat","hexlify","defaultPath","entropyToMnemonic","HDNode","mnemonicToEntropy","keccak256","pbkdf2","_pbkdf2","randomBytes","Description","computeAddress","getPassword","looseArrayify","searchPath","uuidV4","zpad","Logger","version","logger","hasMnemonic","value","mnemonic","phrase","KeystoreAccount","_Description","_super","apply","arguments","key","isKeystoreAccount","_isKeystoreAccount","_decrypt","data","ciphertext","cipher","iv","counter","Counter","aesCtr","ModeOfOperation","ctr","decrypt","_getAccount","computedMAC","slice","substring","toLowerCase","Error","privateKey","throwError","errors","UNSUPPORTED_OPERATION","operation","mnemonicKey","address","check","account","mnemonicCiphertext","mnemonicIv","mnemonicCounter","mnemonicAesCtr","path","locale","entropy","node","fromMnemonic","derivePath","error","code","INVALID_ARGUMENT","argument","pbkdf2Sync","passwordBytes","salt","count","dkLen","prfFunc","Promise","resolve","_computeKdfKey","password","pbkdf2Func","scryptFunc","progressCallback","kdf","name","throwArgumentError","N","parseInt","r","p","prf","decryptSync","json","JSON","parse","syncScrypt","_context","next","sent","abrupt","stop","_callee","encrypt","options","e","reject","srcMnemonic","client","length","uuidRandom","uuid","then","derivedKey","macPrefix","mac","id","Crypto","cipherparams","kdfparams","n","dklen","now","Date","timestamp","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","gethFilename","stringify"],"sources":["../src.ts/keystore.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module"}